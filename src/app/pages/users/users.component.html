<div class="container my-4">
  <div [class.rtl]="('dir' | translate) === 'rtl'">
    <div class="panels">
      <div class="row">
        <div class="col-12">
          <div class="add-user-panel p-4">
            <div class="panel">
              <div class="my-4 mx-2">
                <h4 class="title">{{ "Users.ExPanel.Title" | translate }}</h4>
              </div>
              <!-- <mat-expansion-panel>
                          <mat-expansion-panel-header>
                            <mat-panel-title>
                              {{ 'Users.ExPanel.exp-title' | translate }}
                            </mat-panel-title>
                            <mat-panel-description>
                              {{ 'Users.ExPanel.exp-desc' | translate }}
                            </mat-panel-description>
                          </mat-expansion-panel-header>
                        </mat-expansion-panel> -->
              <div class="user-form">
                <form [formGroup]="userForm" class="w-100 p-4">
                  <div class="row">
                    <div class="col-lg-4 col-md-4 col-sm-12">
                      <mat-form-field class="mt-2 w-100" appearance="fill">
                        <mat-label>نام و نام خانوادگی</mat-label>
                        <input
                          matInput
                          autocomplete="false"
                          formControlName="name"
                          pattern="[a-zA-Z0-9-]+"
                          class="text-center"
                          type="text"
                          [placeholder]="'Users.ExPanel.input-one' | translate"
                        />
                      </mat-form-field>
                    </div>

                    <div class="col-lg-4 col-md-4 col-sm-12">
                      <mat-form-field class="mt-2 w-100" appearance="fill">
                        <mat-label>نام کاربری</mat-label>
                        <input
                          matInput
                          autocomplete="false"
                          formControlName="username"
                          pattern="[a-zA-Z0-9-]+"
                          class="rounded-pill text-center"
                          type="text"
                          [placeholder]="'Users.ExPanel.input-two' | translate"
                        />
                      </mat-form-field>
                    </div>

                    <div class="col-lg-4 col-md-4 col-sm-12">
                      <mat-form-field class="mt-2 w-100" appearance="fill">
                        <mat-label>رمزعبور</mat-label>
                        <input
                          matInput
                          autocomplete="false"
                          formControlName="password"
                          pattern="[a-zA-Z0-9-]+"
                          class="rounded-pill text-center"
                          type="password"
                          [placeholder]="
                            'Users.ExPanel.input-three' | translate
                          "
                        />
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-lg-4 col-md-4 col-sm-12">
                      <mat-form-field class="mt-2 w-100" appearance="fill">
                        <mat-label>شماره تماس</mat-label>
                        <input
                          matInput
                          autocomplete="false"
                          formControlName="phone"
                          class="text-center"
                          type="text"
                          [placeholder]="'Users.ExPanel.input-one' | translate"
                        />
                      </mat-form-field>
                    </div>

                    <div class="col-lg-4 col-md-4 col-sm-12">
                      
                      <div class="px-2 w-100 check d-flex">
                        <mat-checkbox
                          formControlName="sendSMS"
                          class="example-margin" color="warn"
                          >سرویس پیام کوتاه</mat-checkbox
                        >
                        <mat-checkbox
                          formControlName="isAdmin"
                          class="example-margin mx-4" color="warn"
                          >به عنوان ادمین</mat-checkbox
                        >
                      </div>
                    </div>
                  </div>
                  <div class="form-action mt-4 px-3">
                    <button mat-button class="submit-btn" (click)="addUser()">
                      {{ "Users.ExPanel.submit-btn" | translate }}
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        <div class="col-12 mt-4">
          <div class="p-4">
            <div class="user-table panel">
              <div class="text-right my-4 mx-2">
                <h4 class="title">{{ "Users.Table.Title" | translate }}</h4>
              </div>
              <div class="table-panel">
                <table
                  mat-table
                  [dataSource]="dataSource"
                  class="mat-elevation-z8 w-100"
                >

                  <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef class="text-center">
                      {{ "Users.Table.Column.Name" | translate }}
                    </th>
                    <td mat-cell *matCellDef="let element" class="text-center">
                      {{ element.name }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="username">
                    <th mat-header-cell *matHeaderCellDef class="text-center">
                      {{ "Users.Table.Column.Username" | translate }}
                    </th>
                    <td mat-cell *matCellDef="let element" class="text-center">
                      {{ element.username }}
                    </td>
                  </ng-container>


                  <ng-container matColumnDef="phone">
                    <th mat-header-cell *matHeaderCellDef class="text-center">تلفن</th>
                    <td mat-cell *matCellDef="let element" class="text-center">
                      {{ element.phone }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="password" >
                    <th mat-header-cell *matHeaderCellDef class="text-center">
                      {{ "Users.Table.Column.Pass" | translate }}
                    </th>
                    <td mat-cell *matCellDef="let element" class="text-center">
                      {{ element.password }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="isAdmin">
                    <th mat-header-cell *matHeaderCellDef class="text-center">سطح دسترسی</th>
                    <td mat-cell *matCellDef="let element" class="text-center">
                      <span *ngIf="element.isAdmin">ادمین</span>
                      <span *ngIf="!element.isAdmin">ناظر</span>
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="sendSMS">
                    <th mat-header-cell *matHeaderCellDef class="text-center">سطح دسترسی</th>
                    <td mat-cell *matCellDef="let element" class="text-center">
                      <span *ngIf="element.sendSMS">ادمین</span>
                      <span *ngIf="!element.sendSMS">ناظر</span>
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="delete">
                    <th mat-header-cell *matHeaderCellDef class="text-center">حذف</th>
                    <td mat-cell *matCellDef="let element" class="text-center">
                      <button mat-button (click)="openDialog(element)"><i class="fa fa-trash"></i></button>
                    </td>
                  </ng-container>

                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr
                    mat-row
                    *matRowDef="let row; columns: displayedColumns"
                  ></tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
